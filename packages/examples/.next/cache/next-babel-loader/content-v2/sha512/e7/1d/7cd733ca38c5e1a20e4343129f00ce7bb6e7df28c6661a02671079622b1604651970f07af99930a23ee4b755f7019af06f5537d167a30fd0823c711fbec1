{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/necolas/OpenSource/github/necolas/react-native-web/packages/examples/pages/image/examples/NetworkImage.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as helpers from '../helpers';\nimport sources from '../sources';\nimport React, { PureComponent } from 'react';\nimport ActivityIndicator from \"react-native-web/dist/cjs/exports/ActivityIndicator\";\nimport Image from \"react-native-web/dist/cjs/exports/Image\";\nimport Text from \"react-native-web/dist/cjs/exports/Text\";\nimport View from \"react-native-web/dist/cjs/exports/View\";\n\nvar NetworkImageExample = /*#__PURE__*/function (_PureComponent) {\n  _inherits(NetworkImageExample, _PureComponent);\n\n  var _super = _createSuper(NetworkImageExample);\n\n  function NetworkImageExample() {\n    var _this;\n\n    _classCallCheck(this, NetworkImageExample);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      error: false,\n      loading: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleError\", function (e) {\n      var nextState = {\n        loading: false\n      };\n\n      if (_this.props.logMethod === 'onError') {\n        nextState.message = \"\\u2718 onError \".concat(JSON.stringify(e.nativeEvent));\n      }\n\n      _this.setState(function () {\n        return nextState;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleLoad\", function () {\n      var nextState = {\n        loading: false\n      };\n\n      if (_this.props.logMethod === 'onLoad') {\n        nextState.message = '✔ onLoad';\n      }\n\n      _this.setState(function () {\n        return nextState;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleLoadEnd\", function () {\n      var nextState = {\n        loading: false\n      };\n\n      if (_this.props.logMethod === 'onLoadEnd') {\n        nextState.message = '✔ onLoadEnd';\n      }\n\n      _this.setState(function () {\n        return nextState;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleLoadStart\", function () {\n      var nextState = {\n        loading: true\n      };\n\n      if (_this.props.logMethod === 'onLoadStart') {\n        nextState.message = '✔ onLoadStart';\n      }\n\n      _this.setState(function () {\n        return nextState;\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(NetworkImageExample, [{\n    key: \"render\",\n    value: function render() {\n      var loader = this.state.loading ? /*#__PURE__*/_jsxDEV(View, {\n        children: /*#__PURE__*/_jsxDEV(ActivityIndicator, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 7\n      }, this) : null;\n      return /*#__PURE__*/_jsxDEV(View, {\n        children: [loader, /*#__PURE__*/_jsxDEV(Image, {\n          defaultSource: sources.placeholder,\n          onError: this._handleError,\n          onLoad: this._handleLoad,\n          onLoadEnd: this._handleLoadEnd,\n          onLoadStart: this._handleLoadStart,\n          source: this.props.source,\n          style: helpers.styles.base\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 9\n        }, this), this.state.message && /*#__PURE__*/_jsxDEV(Text, {\n          style: helpers.styles.marginTop,\n          children: this.state.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return NetworkImageExample;\n}(PureComponent);\n\n_defineProperty(NetworkImageExample, \"defaultProps\", {\n  logList: []\n});\n\nexport default NetworkImageExample;","map":{"version":3,"sources":["/Users/necolas/OpenSource/github/necolas/react-native-web/packages/examples/pages/image/examples/NetworkImage.js"],"names":["helpers","sources","React","PureComponent","NetworkImageExample","error","loading","e","nextState","props","logMethod","message","JSON","stringify","nativeEvent","setState","loader","state","placeholder","_handleError","_handleLoad","_handleLoadEnd","_handleLoadStart","source","styles","base","marginTop","logList"],"mappings":";;;;;;;;;;;;;;AAAA,OAAO,KAAKA,OAAZ,MAAyB,YAAzB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;;;;;;IAGMC,mB;;;;;;;;;;;;;;;;4DACI;AACNC,MAAAA,KAAK,EAAE,KADD;AAENC,MAAAA,OAAO,EAAE;AAFH,K;;mEAiCO,UAAAC,CAAC,EAAI;AAClB,UAAMC,SAAS,GAAG;AAAEF,QAAAA,OAAO,EAAE;AAAX,OAAlB;;AACA,UAAI,MAAKG,KAAL,CAAWC,SAAX,KAAyB,SAA7B,EAAwC;AACtCF,QAAAA,SAAS,CAACG,OAAV,4BAAiCC,IAAI,CAACC,SAAL,CAAeN,CAAC,CAACO,WAAjB,CAAjC;AACD;;AACD,YAAKC,QAAL,CAAc;AAAA,eAAMP,SAAN;AAAA,OAAd;AACD,K;;kEAEa,YAAM;AAClB,UAAMA,SAAS,GAAG;AAAEF,QAAAA,OAAO,EAAE;AAAX,OAAlB;;AACA,UAAI,MAAKG,KAAL,CAAWC,SAAX,KAAyB,QAA7B,EAAuC;AACrCF,QAAAA,SAAS,CAACG,OAAV,GAAoB,UAApB;AACD;;AACD,YAAKI,QAAL,CAAc;AAAA,eAAMP,SAAN;AAAA,OAAd;AACD,K;;qEAEgB,YAAM;AACrB,UAAMA,SAAS,GAAG;AAAEF,QAAAA,OAAO,EAAE;AAAX,OAAlB;;AACA,UAAI,MAAKG,KAAL,CAAWC,SAAX,KAAyB,WAA7B,EAA0C;AACxCF,QAAAA,SAAS,CAACG,OAAV,GAAoB,aAApB;AACD;;AACD,YAAKI,QAAL,CAAc;AAAA,eAAMP,SAAN;AAAA,OAAd;AACD,K;;uEAEkB,YAAM;AACvB,UAAMA,SAAS,GAAG;AAAEF,QAAAA,OAAO,EAAE;AAAX,OAAlB;;AACA,UAAI,MAAKG,KAAL,CAAWC,SAAX,KAAyB,aAA7B,EAA4C;AAC1CF,QAAAA,SAAS,CAACG,OAAV,GAAoB,eAApB;AACD;;AACD,YAAKI,QAAL,CAAc;AAAA,eAAMP,SAAN;AAAA,OAAd;AACD,K;;;;;;;6BAtDQ;AACP,UAAMQ,MAAM,GAAG,KAAKC,KAAL,CAAWX,OAAX,gBACb,QAAC,IAAD;AAAA,+BACE,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADa,GAIX,IAJJ;AAMA,0BACE,QAAC,IAAD;AAAA,mBACGU,MADH,eAEE,QAAC,KAAD;AACE,UAAA,aAAa,EAAEf,OAAO,CAACiB,WADzB;AAEE,UAAA,OAAO,EAAE,KAAKC,YAFhB;AAGE,UAAA,MAAM,EAAE,KAAKC,WAHf;AAIE,UAAA,SAAS,EAAE,KAAKC,cAJlB;AAKE,UAAA,WAAW,EAAE,KAAKC,gBALpB;AAME,UAAA,MAAM,EAAE,KAAKb,KAAL,CAAWc,MANrB;AAOE,UAAA,KAAK,EAAEvB,OAAO,CAACwB,MAAR,CAAeC;AAPxB;AAAA;AAAA;AAAA;AAAA,gBAFF,EAWG,KAAKR,KAAL,CAAWN,OAAX,iBAAsB,QAAC,IAAD;AAAM,UAAA,KAAK,EAAEX,OAAO,CAACwB,MAAR,CAAeE,SAA5B;AAAA,oBAAwC,KAAKT,KAAL,CAAWN;AAAnD;AAAA;AAAA;AAAA;AAAA,gBAXzB;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAeD;;;;EAhC+BR,a;;gBAA5BC,mB,kBAMkB;AACpBuB,EAAAA,OAAO,EAAE;AADW,C;;AA6DxB,eAAevB,mBAAf","sourcesContent":["import * as helpers from '../helpers';\nimport sources from '../sources';\nimport React, { PureComponent } from 'react';\nimport { ActivityIndicator, Image, Text, View } from 'react-native';\n\nclass NetworkImageExample extends PureComponent {\n  state = {\n    error: false,\n    loading: false\n  };\n\n  static defaultProps = {\n    logList: []\n  };\n\n  render() {\n    const loader = this.state.loading ? (\n      <View>\n        <ActivityIndicator />\n      </View>\n    ) : null;\n\n    return (\n      <View>\n        {loader}\n        <Image\n          defaultSource={sources.placeholder}\n          onError={this._handleError}\n          onLoad={this._handleLoad}\n          onLoadEnd={this._handleLoadEnd}\n          onLoadStart={this._handleLoadStart}\n          source={this.props.source}\n          style={helpers.styles.base}\n        />\n        {this.state.message && <Text style={helpers.styles.marginTop}>{this.state.message}</Text>}\n      </View>\n    );\n  }\n\n  _handleError = e => {\n    const nextState = { loading: false };\n    if (this.props.logMethod === 'onError') {\n      nextState.message = `✘ onError ${JSON.stringify(e.nativeEvent)}`;\n    }\n    this.setState(() => nextState);\n  };\n\n  _handleLoad = () => {\n    const nextState = { loading: false };\n    if (this.props.logMethod === 'onLoad') {\n      nextState.message = '✔ onLoad';\n    }\n    this.setState(() => nextState);\n  };\n\n  _handleLoadEnd = () => {\n    const nextState = { loading: false };\n    if (this.props.logMethod === 'onLoadEnd') {\n      nextState.message = '✔ onLoadEnd';\n    }\n    this.setState(() => nextState);\n  };\n\n  _handleLoadStart = () => {\n    const nextState = { loading: true };\n    if (this.props.logMethod === 'onLoadStart') {\n      nextState.message = '✔ onLoadStart';\n    }\n    this.setState(() => nextState);\n  };\n}\n\nexport default NetworkImageExample;\n"]},"metadata":{},"sourceType":"module"}