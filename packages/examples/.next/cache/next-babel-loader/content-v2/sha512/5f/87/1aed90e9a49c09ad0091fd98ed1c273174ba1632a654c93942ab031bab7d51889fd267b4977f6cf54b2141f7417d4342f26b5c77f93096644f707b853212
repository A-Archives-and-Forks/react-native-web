{"ast":null,"code":"/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n * @providesModule PointerEventsExample\n */\n\n/*\n'use strict';\n\nvar React = require('react');\nvar ReactNative = require('react-native');\nvar { StyleSheet, Text, View } = ReactNative;\n\nclass ExampleBox extends React.Component<$FlowFixMeProps, $FlowFixMeState> {\n  state = {\n    log: []\n  };\n\n  handleLog = msg => {\n    this.state.log = this.state.log.concat([msg]);\n  };\n\n  flushReactChanges = () => {\n    this.forceUpdate();\n  };\n\n  // Capture phase of bubbling to append separator before any of the bubbling happens\n  handleTouchCapture = () => {\n    this.state.log = this.state.log.concat(['---']);\n  };\n\n  render() {\n    return (\n      <View>\n        <View onTouchEndCapture={this.handleTouchCapture} onTouchStart={this.flushReactChanges}>\n          <this.props.Component onLog={this.handleLog} />\n        </View>\n        <View style={styles.logBox}>\n          <DemoText style={styles.logText}>{this.state.log.join('\\n')}</DemoText>\n        </View>\n      </View>\n    );\n  }\n}\n\nclass NoneExample extends React.Component<$FlowFixMeProps> {\n  render() {\n    return (\n      <View onTouchStart={() => this.props.onLog('A unspecified touched')} style={styles.box}>\n        <DemoText style={styles.text}>A: unspecified</DemoText>\n        <View\n          pointerEvents=\"none\"\n          onTouchStart={() => this.props.onLog('B none touched')}\n          style={[styles.box, styles.boxPassedThrough]}\n        >\n          <DemoText style={[styles.text, styles.textPassedThrough]}>B: none</DemoText>\n          <View\n            onTouchStart={() => this.props.onLog('C unspecified touched')}\n            style={[styles.box, styles.boxPassedThrough]}\n          >\n            <DemoText style={[styles.text, styles.textPassedThrough]}>C: unspecified</DemoText>\n          </View>\n        </View>\n      </View>\n    );\n  }\n}\n\n// Special demo text that makes itself untouchable so that it doesn't destroy\n// the experiment and confuse the output.\nclass DemoText extends React.Component<$FlowFixMeProps> {\n  render() {\n    return (\n      <View pointerEvents=\"none\">\n        <Text style={this.props.style}>{this.props.children}</Text>\n      </View>\n    );\n  }\n}\n\nclass BoxNoneExample extends React.Component<$FlowFixMeProps> {\n  render() {\n    return (\n      <View onTouchStart={() => this.props.onLog('A unspecified touched')} style={styles.box}>\n        <DemoText style={styles.text}>A: unspecified</DemoText>\n        <View\n          pointerEvents=\"box-none\"\n          onTouchStart={() => this.props.onLog('B box-none touched')}\n          style={[styles.box, styles.boxPassedThrough]}\n        >\n          <DemoText style={[styles.text, styles.textPassedThrough]}>B: box-none</DemoText>\n          <View onTouchStart={() => this.props.onLog('C unspecified touched')} style={styles.box}>\n            <DemoText style={styles.text}>C: unspecified</DemoText>\n          </View>\n          <View\n            pointerEvents=\"auto\"\n            onTouchStart={() => this.props.onLog('C explicitly unspecified touched')}\n            style={[styles.box]}\n          >\n            <DemoText style={[styles.text]}>C: explicitly unspecified</DemoText>\n          </View>\n        </View>\n      </View>\n    );\n  }\n}\n\nclass BoxOnlyExample extends React.Component<$FlowFixMeProps> {\n  render() {\n    return (\n      <View onTouchStart={() => this.props.onLog('A unspecified touched')} style={styles.box}>\n        <DemoText style={styles.text}>A: unspecified</DemoText>\n        <View\n          pointerEvents=\"box-only\"\n          onTouchStart={() => this.props.onLog('B box-only touched')}\n          style={styles.box}\n        >\n          <DemoText style={styles.text}>B: box-only</DemoText>\n          <View\n            onTouchStart={() => this.props.onLog('C unspecified touched')}\n            style={[styles.box, styles.boxPassedThrough]}\n          >\n            <DemoText style={[styles.text, styles.textPassedThrough]}>C: unspecified</DemoText>\n          </View>\n          <View\n            pointerEvents=\"auto\"\n            onTouchStart={() => this.props.onLog('C explicitly unspecified touched')}\n            style={[styles.box, styles.boxPassedThrough]}\n          >\n            <DemoText style={[styles.text, styles.textPassedThrough]}>\n              C: explicitly unspecified\n            </DemoText>\n          </View>\n        </View>\n      </View>\n    );\n  }\n}\n\ntype ExampleClass = {\n  Component: React.ComponentType<any>,\n  title: string,\n  description: string\n};\n\nvar exampleClasses: Array<ExampleClass> = [\n  {\n    Component: NoneExample,\n    title: '`none`',\n    description:\n      '`none` causes touch events on the container and its child components to pass through to the parent container.'\n  },\n  {\n    Component: BoxNoneExample,\n    title: '`box-none`',\n    description:\n      '`box-none` causes touch events on the container to pass through and will only detect touch events on its child components.'\n  },\n  {\n    Component: BoxOnlyExample,\n    title: '`box-only`',\n    description:\n      \"`box-only` causes touch events on the container's child components to pass through and will only detect touch events on the container itself.\"\n  }\n];\n\nvar infoToExample = info => {\n  return {\n    title: info.title,\n    description: info.description,\n    render: function() {\n      return <ExampleBox key={info.title} Component={info.Component} />;\n    }\n  };\n};\n\nvar styles = StyleSheet.create({\n  text: {\n    fontSize: 10,\n    color: '#5577cc'\n  },\n  textPassedThrough: {\n    color: '#88aadd'\n  },\n  box: {\n    backgroundColor: '#aaccff',\n    borderWidth: 1,\n    borderColor: '#7799cc',\n    padding: 10,\n    margin: 5\n  },\n  boxPassedThrough: {\n    borderColor: '#99bbee'\n  },\n  logText: {\n    fontSize: 9\n  },\n  logBox: {\n    padding: 20,\n    margin: 10,\n    borderWidth: 0.5,\n    borderColor: '#f0f0f0',\n    backgroundColor: '#f9f9f9'\n  },\n  bottomSpacer: {\n    marginBottom: 100\n  }\n});\n\nexports.framework = 'React';\nexports.title = 'Pointer Events';\nexports.description =\n  'Demonstrates the use of the pointerEvents prop of a ' +\n  'View to control how touches should be handled.';\nexports.examples = exampleClasses.map(infoToExample);\n*/","map":null,"metadata":{},"sourceType":"script"}