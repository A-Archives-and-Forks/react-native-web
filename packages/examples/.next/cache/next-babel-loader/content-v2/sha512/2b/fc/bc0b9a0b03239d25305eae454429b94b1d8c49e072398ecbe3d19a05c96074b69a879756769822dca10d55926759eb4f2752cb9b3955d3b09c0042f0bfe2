{"ast":null,"code":"/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n'use strict';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/necolas/OpenSource/github/necolas/react-native-web/packages/examples/pages/lists/examples/MultiColumn.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport FlatList from \"react-native-web/dist/cjs/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/cjs/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/cjs/exports/Text\";\nimport View from \"react-native-web/dist/cjs/exports/View\";\nimport { FooterComponent, HeaderComponent, ItemComponent, PlainInput, SeparatorComponent, genItemData, getItemLayout, pressItem, renderSmallSwitchOption } from './shared';\n\nclass MultiColumnExample extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      data: genItemData(1000),\n      filterText: '',\n      fixedHeight: true,\n      logViewable: false,\n      numColumns: 2,\n      virtualized: true\n    });\n\n    _defineProperty(this, \"_onChangeFilterText\", filterText => {\n      this.setState(() => ({\n        filterText\n      }));\n    });\n\n    _defineProperty(this, \"_onChangeNumColumns\", numColumns => {\n      this.setState(() => ({\n        numColumns: Number(numColumns)\n      }));\n    });\n\n    _defineProperty(this, \"_renderItemComponent\", ({\n      item\n    }) => {\n      return /*#__PURE__*/_jsxDEV(View, {\n        style: styles.card,\n        children: /*#__PURE__*/_jsxDEV(ItemComponent, {\n          fixedHeight: this.state.fixedHeight,\n          item: item,\n          onPress: this._pressItem\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this);\n    });\n\n    _defineProperty(this, \"_onViewableItemsChanged\", info => {\n      // Impressions can be logged here\n      if (this.state.logViewable) {\n        console.log('onViewableItemsChanged: ', info.changed.map(v => _objectSpread(_objectSpread({}, v), {}, {\n          item: '...'\n        })));\n      }\n    });\n\n    _defineProperty(this, \"_pressItem\", key => {\n      pressItem(this, key);\n    });\n  }\n\n  render() {\n    const filterRegex = new RegExp(String(this.state.filterText), 'i');\n\n    const filter = item => filterRegex.test(item.text) || filterRegex.test(item.title);\n\n    const filteredData = this.state.data.filter(filter);\n    return /*#__PURE__*/_jsxDEV(View, {\n      style: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(View, {\n        style: styles.searchRow,\n        children: [/*#__PURE__*/_jsxDEV(View, {\n          style: styles.row,\n          children: [/*#__PURE__*/_jsxDEV(PlainInput, {\n            onChangeText: this._onChangeFilterText,\n            placeholder: \"Search...\",\n            value: this.state.filterText\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Text, {\n            children: \" numColumns: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PlainInput, {\n            clearButtonMode: \"never\",\n            onChangeText: this._onChangeNumColumns,\n            value: this.state.numColumns ? String(this.state.numColumns) : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(View, {\n          style: styles.row,\n          children: [renderSmallSwitchOption(this, 'virtualized'), renderSmallSwitchOption(this, 'fixedHeight'), renderSmallSwitchOption(this, 'logViewable')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SeparatorComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FlatList, {\n        data: filteredData,\n        disableVirtualization: !this.state.virtualized,\n        getItemLayout: this.state.fixedHeight ? this._getItemLayout : undefined,\n        ListFooterComponent: FooterComponent,\n        ListHeaderComponent: HeaderComponent,\n        numColumns: this.state.numColumns || 1,\n        onRefresh: () => console.log('onRefresh: nothing to refresh :P'),\n        onViewableItemsChanged: this._onViewableItemsChanged,\n        refreshing: false,\n        renderItem: this._renderItemComponent\n      }, this.state.numColumns + (this.state.fixedHeight ? 'f' : 'v'), false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this);\n  }\n\n  _getItemLayout(data, index) {\n    const length = getItemLayout(data, index).length + 2 * (CARD_MARGIN + BORDER_WIDTH);\n    return {\n      length,\n      offset: length * index,\n      index\n    };\n  }\n\n}\n\n_defineProperty(MultiColumnExample, \"title\", '<FlatList> - MultiColumn');\n\n_defineProperty(MultiColumnExample, \"description\", 'Performant, scrollable grid of data.');\n\nconst CARD_MARGIN = 4;\nconst BORDER_WIDTH = 1;\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'rgb(239, 239, 244)',\n    flex: 1\n  },\n  card: {\n    margin: CARD_MARGIN,\n    borderRadius: 10,\n    flex: 1,\n    overflow: 'hidden',\n    borderColor: 'lightgray',\n    borderWidth: BORDER_WIDTH\n  },\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  searchRow: {\n    padding: 10\n  }\n});\nexport default function () {\n  return /*#__PURE__*/_jsxDEV(View, {\n    style: {\n      height: 300\n    },\n    children: /*#__PURE__*/_jsxDEV(MultiColumnExample, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/Users/necolas/OpenSource/github/necolas/react-native-web/packages/examples/pages/lists/examples/MultiColumn.js"],"names":["React","FooterComponent","HeaderComponent","ItemComponent","PlainInput","SeparatorComponent","genItemData","getItemLayout","pressItem","renderSmallSwitchOption","MultiColumnExample","PureComponent","data","filterText","fixedHeight","logViewable","numColumns","virtualized","setState","Number","item","styles","card","state","_pressItem","info","console","log","changed","map","v","key","render","filterRegex","RegExp","String","filter","test","text","title","filteredData","container","searchRow","row","_onChangeFilterText","_onChangeNumColumns","_getItemLayout","undefined","_onViewableItemsChanged","_renderItemComponent","index","length","CARD_MARGIN","BORDER_WIDTH","offset","StyleSheet","create","backgroundColor","flex","margin","borderRadius","overflow","borderColor","borderWidth","flexDirection","alignItems","padding","height"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @noflow\n */\n'use strict';\n\nimport React from 'react';\nimport { FlatList, StyleSheet, Text, View } from 'react-native';\n\nimport {\n  FooterComponent,\n  HeaderComponent,\n  ItemComponent,\n  PlainInput,\n  SeparatorComponent,\n  genItemData,\n  getItemLayout,\n  pressItem,\n  renderSmallSwitchOption\n} from './shared';\n\nclass MultiColumnExample extends React.PureComponent {\n  static title = '<FlatList> - MultiColumn';\n  static description = 'Performant, scrollable grid of data.';\n\n  state = {\n    data: genItemData(1000),\n    filterText: '',\n    fixedHeight: true,\n    logViewable: false,\n    numColumns: 2,\n    virtualized: true\n  };\n  _onChangeFilterText = filterText => {\n    this.setState(() => ({ filterText }));\n  };\n  _onChangeNumColumns = numColumns => {\n    this.setState(() => ({ numColumns: Number(numColumns) }));\n  };\n  render() {\n    const filterRegex = new RegExp(String(this.state.filterText), 'i');\n    const filter = item => filterRegex.test(item.text) || filterRegex.test(item.title);\n    const filteredData = this.state.data.filter(filter);\n    return (\n      <View style={styles.container}>\n        <View style={styles.searchRow}>\n          <View style={styles.row}>\n            <PlainInput\n              onChangeText={this._onChangeFilterText}\n              placeholder=\"Search...\"\n              value={this.state.filterText}\n            />\n            <Text> numColumns: </Text>\n            <PlainInput\n              clearButtonMode=\"never\"\n              onChangeText={this._onChangeNumColumns}\n              value={this.state.numColumns ? String(this.state.numColumns) : ''}\n            />\n          </View>\n          <View style={styles.row}>\n            {renderSmallSwitchOption(this, 'virtualized')}\n            {renderSmallSwitchOption(this, 'fixedHeight')}\n            {renderSmallSwitchOption(this, 'logViewable')}\n          </View>\n        </View>\n        <SeparatorComponent />\n        <FlatList\n          data={filteredData}\n          disableVirtualization={!this.state.virtualized}\n          getItemLayout={this.state.fixedHeight ? this._getItemLayout : undefined}\n          key={this.state.numColumns + (this.state.fixedHeight ? 'f' : 'v')}\n          ListFooterComponent={FooterComponent}\n          ListHeaderComponent={HeaderComponent}\n          numColumns={this.state.numColumns || 1}\n          onRefresh={() => console.log('onRefresh: nothing to refresh :P')}\n          onViewableItemsChanged={this._onViewableItemsChanged}\n          refreshing={false}\n          renderItem={this._renderItemComponent}\n        />\n      </View>\n    );\n  }\n  _getItemLayout(data: any, index: number): { length: number, offset: number, index: number } {\n    const length = getItemLayout(data, index).length + 2 * (CARD_MARGIN + BORDER_WIDTH);\n    return { length, offset: length * index, index };\n  }\n  _renderItemComponent = ({ item }) => {\n    return (\n      <View style={styles.card}>\n        <ItemComponent fixedHeight={this.state.fixedHeight} item={item} onPress={this._pressItem} />\n      </View>\n    );\n  };\n  // This is called when items change viewability by scrolling into or out of the viewable area.\n  _onViewableItemsChanged = (info: {\n    changed: Array<{\n      key: string,\n      isViewable: boolean,\n      item: { columns: Array<*> },\n      index: ?number,\n      section?: any\n    }>\n  }) => {\n    // Impressions can be logged here\n    if (this.state.logViewable) {\n      console.log('onViewableItemsChanged: ', info.changed.map(v => ({ ...v, item: '...' })));\n    }\n  };\n  _pressItem = (key: string) => {\n    pressItem(this, key);\n  };\n}\n\nconst CARD_MARGIN = 4;\nconst BORDER_WIDTH = 1;\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'rgb(239, 239, 244)',\n    flex: 1\n  },\n  card: {\n    margin: CARD_MARGIN,\n    borderRadius: 10,\n    flex: 1,\n    overflow: 'hidden',\n    borderColor: 'lightgray',\n    borderWidth: BORDER_WIDTH\n  },\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  searchRow: {\n    padding: 10\n  }\n});\n\nexport default function() {\n  return (\n    <View style={{ height: 300 }}>\n      <MultiColumnExample />\n    </View>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}