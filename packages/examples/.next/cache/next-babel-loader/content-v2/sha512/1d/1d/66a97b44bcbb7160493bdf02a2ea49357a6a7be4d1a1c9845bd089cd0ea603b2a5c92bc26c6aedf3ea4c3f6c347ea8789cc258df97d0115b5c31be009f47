{"ast":null,"code":"/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n'use strict';\n\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport FlatList from \"react-native-web/dist/cjs/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/cjs/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/cjs/exports/Text\";\nimport View from \"react-native-web/dist/cjs/exports/View\";\nimport { FooterComponent, HeaderComponent, ItemComponent, PlainInput, SeparatorComponent, genItemData, getItemLayout, pressItem, renderSmallSwitchOption } from './shared';\n\nclass MultiColumnExample extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      data: genItemData(1000),\n      filterText: '',\n      fixedHeight: true,\n      logViewable: false,\n      numColumns: 2,\n      virtualized: true\n    });\n\n    _defineProperty(this, \"_onChangeFilterText\", filterText => {\n      this.setState(() => ({\n        filterText\n      }));\n    });\n\n    _defineProperty(this, \"_onChangeNumColumns\", numColumns => {\n      this.setState(() => ({\n        numColumns: Number(numColumns)\n      }));\n    });\n\n    _defineProperty(this, \"_renderItemComponent\", ({\n      item\n    }) => {\n      return /*#__PURE__*/_jsx(View, {\n        style: styles.card,\n        children: /*#__PURE__*/_jsx(ItemComponent, {\n          fixedHeight: this.state.fixedHeight,\n          item: item,\n          onPress: this._pressItem\n        })\n      });\n    });\n\n    _defineProperty(this, \"_onViewableItemsChanged\", info => {\n      // Impressions can be logged here\n      if (this.state.logViewable) {\n        console.log('onViewableItemsChanged: ', info.changed.map(v => _objectSpread(_objectSpread({}, v), {}, {\n          item: '...'\n        })));\n      }\n    });\n\n    _defineProperty(this, \"_pressItem\", key => {\n      pressItem(this, key);\n    });\n  }\n\n  render() {\n    const filterRegex = new RegExp(String(this.state.filterText), 'i');\n\n    const filter = item => filterRegex.test(item.text) || filterRegex.test(item.title);\n\n    const filteredData = this.state.data.filter(filter);\n    return /*#__PURE__*/_jsxs(View, {\n      style: styles.container,\n      children: [/*#__PURE__*/_jsxs(View, {\n        style: styles.searchRow,\n        children: [/*#__PURE__*/_jsxs(View, {\n          style: styles.row,\n          children: [/*#__PURE__*/_jsx(PlainInput, {\n            onChangeText: this._onChangeFilterText,\n            placeholder: \"Search...\",\n            value: this.state.filterText\n          }), /*#__PURE__*/_jsx(Text, {\n            children: \" numColumns: \"\n          }), /*#__PURE__*/_jsx(PlainInput, {\n            clearButtonMode: \"never\",\n            onChangeText: this._onChangeNumColumns,\n            value: this.state.numColumns ? String(this.state.numColumns) : ''\n          })]\n        }), /*#__PURE__*/_jsxs(View, {\n          style: styles.row,\n          children: [renderSmallSwitchOption(this, 'virtualized'), renderSmallSwitchOption(this, 'fixedHeight'), renderSmallSwitchOption(this, 'logViewable')]\n        })]\n      }), /*#__PURE__*/_jsx(SeparatorComponent, {}), /*#__PURE__*/_jsx(FlatList, {\n        data: filteredData,\n        disableVirtualization: !this.state.virtualized,\n        getItemLayout: this.state.fixedHeight ? this._getItemLayout : undefined,\n        ListFooterComponent: FooterComponent,\n        ListHeaderComponent: HeaderComponent,\n        numColumns: this.state.numColumns || 1,\n        onRefresh: () => console.log('onRefresh: nothing to refresh :P'),\n        onViewableItemsChanged: this._onViewableItemsChanged,\n        refreshing: false,\n        renderItem: this._renderItemComponent\n      }, this.state.numColumns + (this.state.fixedHeight ? 'f' : 'v'))]\n    });\n  }\n\n  _getItemLayout(data, index) {\n    const length = getItemLayout(data, index).length + 2 * (CARD_MARGIN + BORDER_WIDTH);\n    return {\n      length,\n      offset: length * index,\n      index\n    };\n  }\n\n}\n\n_defineProperty(MultiColumnExample, \"title\", '<FlatList> - MultiColumn');\n\n_defineProperty(MultiColumnExample, \"description\", 'Performant, scrollable grid of data.');\n\nconst CARD_MARGIN = 4;\nconst BORDER_WIDTH = 1;\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'rgb(239, 239, 244)',\n    flex: 1\n  },\n  card: {\n    margin: CARD_MARGIN,\n    borderRadius: 10,\n    flex: 1,\n    overflow: 'hidden',\n    borderColor: 'lightgray',\n    borderWidth: BORDER_WIDTH\n  },\n  row: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  searchRow: {\n    padding: 10\n  }\n});\nexport default function () {\n  return /*#__PURE__*/_jsx(View, {\n    style: {\n      height: 300\n    },\n    children: /*#__PURE__*/_jsx(MultiColumnExample, {})\n  });\n}","map":null,"metadata":{},"sourceType":"module"}